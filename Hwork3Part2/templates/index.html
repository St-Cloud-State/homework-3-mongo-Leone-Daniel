<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Loan Application System</title>
</head>
<body>
    <h1>Loan Application Portal</h1>

    <!-- New Application Form -->
    <div id="newApplication">
        <h2>Submit New Application</h2>
        <input type="text" id="f_name" placeholder="First Name"><br>
        <input type="text" id="l_name" placeholder="Last Name"><br>
        <input type="text" id="address" placeholder="Address"><br>
        <input type="text" id="city" placeholder="City"><br>
        <input type="text" id="state" placeholder="State"><br>
        <input type="text" id="zipcode" placeholder="Zipcode"><br>
        <button onclick="submitApplication()">Submit Application</button>

        <div id="applicationResult"></div>
    </div>

    <!-- Check Application Status Section -->
    <div id="checkStatus">
        <h2>Check Application Status</h2>
        <input type="text" id="statusTrackingId" placeholder="Enter Tracking ID (e.g., app_00001)">
        <button onclick="checkStatus()">Check Status</button>
        <div id="statusResult"></div>
        <div id="notesResult"></div>
    </div>

    <!-- Update Application Status Section -->
    <div id="updateStatus">
        <h2>Update Application Status</h2>
        <input type="text" id="updateTrackingId" placeholder="Enter Tracking ID (e.g., app_00001)"><br>

        <label for="newStatus">New Status:</label>
        <select id="newStatus" onchange="toggleRejectionReason()">
            <option value="received">Received</option>
            <option value="processing">Processing</option>
            <option value="accepted">Accepted</option>
            <option value="rejected">Rejected</option>
        </select><br>

        <div id="rejectionReasonContainer" style="display: none;">
            <label for="rejectionReason">Rejection Reason:</label>
            <input type="text" id="rejectionReason" placeholder="Enter reason for rejection"><br>
        </div>

        <button onclick="updateStatus()">Update Status</button>
        <div id="updateStatusResult"></div>
    </div>

    <!-- Add Acceptance Note Section -->
    <div id="addAcceptanceNote" style="display: none;">
        <h2>Add Acceptance Note</h2>
        <input type="text" id="acceptanceTrackingId" placeholder="Enter Tracking ID (e.g., app_00001)"><br>
        <textarea id="acceptanceMessage" placeholder="Enter acceptance details (e.g., loan terms)"></textarea><br>
        <button onclick="submitAcceptanceNote()">Submit Acceptance Note</button>
        <div id="acceptanceNoteResult"></div>
    </div>

    <!-- Add General Note Section -->
    <div id="addGeneralNote">
        <h2>Add General Note</h2>
        <input type="text" id="generalTrackingId" placeholder="Enter Tracking ID (e.g., app_00001)"><br>
        <textarea id="generalMessage" placeholder="Enter general note"></textarea><br>
        <button onclick="submitGeneralNote()">Submit General Note</button>
        <div id="generalNoteResult"></div>
    </div>

    <!-- Add Processing Note Section -->
    <div id="addProcessingNote">
        <h2>Add Processing Note</h2>
        <input type="text" id="processingTrackingId" placeholder="Enter Tracking ID (e.g., app_00001)"><br>

        <label for="processingSubphase">Select Subphase:</label>
        <select id="processingSubphase">
            <option value="personal_details_check">Personal Details Check</option>
            <option value="credit_check">Credit Check</option>
            <option value="certification_check">Certification Check</option>
        </select><br>

        <textarea id="processingMessage" placeholder="Enter processing task note"></textarea><br>

        <label for="processingCompleted">Task Completed?</label>
        <input type="checkbox" id="processingCompleted"><br>

        <button onclick="submitProcessingNote()">Submit Processing Note</button>
        <div id="processingNoteResult"></div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
